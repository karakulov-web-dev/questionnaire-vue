(function(){"use strict";var e={7902:function(e,t,n){var u=n(6369),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.openDialogue}},[e._v(" Open ")]),e.isOpen?t("QuestionnaireDialogue",{attrs:{questions:e.questions,title:"Please answer a few questions","initial-id":"id1"},on:{close:e.closeDialogue,submit:e.submit}}):e._e()],1)},s=[],r=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{visible:""},on:{close:function(t){return e.$emit("close")}}},[t("h2",{staticClass:"dialogue-title"},[e._v(e._s(e.title))]),t("Questionnaire",{attrs:{count:e.questionsCount,"current-order":e.currentQuestion.order,question:e.currentQuestion,answer:e.currentAnswer},on:{input:e.handleInput}}),t("div",{staticClass:"dialogue-body"},[e.isLastQuestion?t("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" Submit ")]):t("el-button",{attrs:{type:"primary",disabled:e.isDisabledNextButton},on:{click:e.next}},[e._v(" Next ")])],1)],1)},o=[],a=function(){var e=this,t=e._self._c;return t("div",[t("Steps",{attrs:{count:e.count,current:e.currentOrder}}),t("div",{staticClass:"question"},[e._v(" "+e._s(e.question.question)+" ("+e._s(e.currentOrder)+"/"+e._s(e.count)+") ")]),t("Answer",{staticClass:"answer-area",attrs:{type:e.question.type,options:e.question.options,value:e.answer},on:{input:t=>e.$emit("input",t)}})],1)},l=[],c=function(){var e=this,t=e._self._c;return t("el-steps",{attrs:{active:e.current}},e._l(e.count,(function(e){return t("el-step",{key:e})})),1)},d=[],p={name:"StepsComponent",props:{count:Number,current:Number}},h=p,f=n(1001),v=(0,f.Z)(h,c,d,!1,null,null,null),m=v.exports,b=function(){var e=this,t=e._self._c;return t("div",[t(e.components[e.type],{tag:"component",attrs:{value:e.value,options:e.options},on:{input:t=>e.$emit("input",t)}})],1)},g=[],y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"radio-buttons"},e._l(e.options,(function(n){return t("el-radio",{key:n.value,attrs:{label:n.value,value:e.value,size:"medium"},on:{change:function(t){return e.$emit("input",n.value)}}},[e._v(" "+e._s(n.label)+" ")])})),1)},_=[],O={name:"RadioButtons",props:{value:String,options:{type:Array,default:()=>[]}}},S=O,w=(0,f.Z)(S,y,_,!1,null,null,null),k=w.exports,x=function(){var e=this,t=e._self._c;return t("div",[t("el-input",{attrs:{type:"textarea",value:e.value.value,rows:2,disabled:e.value.checked},on:{input:t=>e.$emit("input",{value:t})}}),t("el-checkbox",{attrs:{value:e.value.checked},on:{change:e.handleChangeChecked}},[e._v(" I do not want to answer ")])],1)},q=[],Q={name:"TextArea",props:{value:{type:Object,default:()=>({})}},methods:{handleChangeChecked(e){const{value:t}=this.value;this.$emit("input",{checked:e,value:e?"":t})}}},I=Q,C=(0,f.Z)(I,x,q,!1,null,null,null),A=C.exports,T=(n(6699),function(){var e=this,t=e._self._c;return t("div",{staticClass:"checkboxes-area"},[e._l(e.checkboxes,(function(n){return t("el-checkbox",{key:n.value,attrs:{value:e.value.checked.includes(n.value)},on:{change:t=>e.handleCheck(n.value,t)}},[e._v(" "+e._s(n.label)+" ")])})),t("el-input",{attrs:{type:"textarea",value:e.value.customValue,rows:2,disabled:!e.value.checked.includes("customValue")},on:{input:e.customOptionChange}})],2)}),N=[],D={name:"CheckboxesArea",props:{value:{type:Object,default:()=>({checked:[]})},options:{type:Array,default:()=>[]}},computed:{checkboxes(){return[...this.options,{label:"Your answer",value:"customValue"}]}},methods:{handleCheck(e,t){const{checked:n,customValue:u}=this.value,i=t?[...n,e]:n.filter((t=>t!==e));this.$emit("input",{checked:i,customValue:u})},customOptionChange(e){const{checked:t}=this.value;this.$emit("input",{checked:t,customValue:e})}}},E=D,j=(0,f.Z)(E,T,N,!1,null,"73c5996b",null),$=j.exports,Z={name:"AnswerArea",props:{type:String,options:Array,value:{type:[String,Object,Array]}},data:()=>({components:{radio:k,text:A,checkbox:$}})},P=Z,V=(0,f.Z)(P,b,g,!1,null,null,null),U=V.exports,B={name:"QuestionnaireBody",components:{Steps:m,Answer:U},props:{count:Number,currentOrder:Number,answer:{type:[String,Object]},question:{type:Object,default:()=>({})}}},R=B,L=(0,f.Z)(R,a,l,!1,null,null,null),M=L.exports,F=n(7285),G=n.n(F),H={name:"QuestionnaireDialogue",components:{Questionnaire:M},props:{title:String,initialId:String,questions:{type:Array,default:()=>[]}},data:()=>({currentQuestionId:null,answers:{}}),created(){this.currentQuestionId=this.initialId},computed:{questionsCount(){return this.questions.reduce(((e,t)=>t.order>=e?t.order:e),0)},currentQuestion(){return this.questions.find((e=>e.id===this.currentQuestionId))||{}},currentAnswer(){return this.answers[this.currentQuestionId]},nextQuestionId(){const{currentQuestionId:e,currentQuestion:t}=this,{next:n}=t||{};if("choice"===n.type){const t=this.answers[e]||{};return n.options[t]}return n.id},isLastQuestion(){const{currentQuestion:e,questionsCount:t}=this;return!e||e.order===t},isDisabledNextButton(){return G()(this.answers[this.currentQuestionId])}},methods:{next(){this.currentQuestionId=this.nextQuestionId},submit(){this.$emit("submit",this.answers)},handleInput(e){this.$set(this.answers,this.currentQuestionId,e)}}},J=H,z=(0,f.Z)(J,r,o,!1,null,"22c6a8e2",null),Y=z.exports,K=n(6265),W=n.n(K);const X="SET_QUESTIONS",ee="QUESTIONNAIRE_CHANGE_STATE_DIALOGUE",te="FETCH_QUESTIONS",ne="QUESTIONNAIRE_PERSISTED_STATE",ue=se();var ie={namespaced:!0,state:{questions:[],isOpen:"undefined"===typeof ue.isOpen||ue.isOpen},mutations:{[X]:(e,t)=>{e.questions=t},[ee]:(e,t)=>{e.isOpen=t}},actions:{[te]:async({commit:e})=>{const{data:t}=await W().get("/questions.json");e(X,t)},[ee]:({commit:e},t)=>{re({isOpen:t}),e(ee,t)}}};function se(){const e=localStorage.getItem(ne);if(!e)return{};try{return JSON.parse(e)}catch(t){return{}}}function re(e={}){const t=se(),n=JSON.stringify({...t,...e});localStorage.setItem(ne,n)}var oe=n(3822),ae={name:"App",components:{QuestionnaireDialogue:Y},computed:{...(0,oe.rn)({isOpen:e=>e.questionnaire.isOpen,questions:e=>e.questionnaire.questions})},created(){this.fetch()},methods:{...(0,oe.nv)("questionnaire",{changeStateDialogue:ee,fetch:te}),submit(){this.closeDialogue()},closeDialogue(){this.changeStateDialogue(!1)},openDialogue(){this.changeStateDialogue(!0)}}},le=ae,ce=(0,f.Z)(le,i,s,!1,null,null,null),de=ce.exports;u["default"].use(oe.ZP);var pe=new oe.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{questionnaire:ie}}),he=n(8499),fe=n.n(he);u["default"].use(fe()),u["default"].config.productionTip=!1,new u["default"]({store:pe,render:e=>e(de)}).$mount("#app")}},t={};function n(u){var i=t[u];if(void 0!==i)return i.exports;var s=t[u]={id:u,loaded:!1,exports:{}};return e[u](s,s.exports,n),s.loaded=!0,s.exports}n.m=e,function(){var e=[];n.O=function(t,u,i,s){if(!u){var r=1/0;for(c=0;c<e.length;c++){u=e[c][0],i=e[c][1],s=e[c][2];for(var o=!0,a=0;a<u.length;a++)(!1&s||r>=s)&&Object.keys(n.O).every((function(e){return n.O[e](u[a])}))?u.splice(a--,1):(o=!1,s<r&&(r=s));if(o){e.splice(c--,1);var l=i();void 0!==l&&(t=l)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[u,i,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var u in t)n.o(t,u)&&!n.o(e,u)&&Object.defineProperty(e,u,{enumerable:!0,get:t[u]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,u){var i,s,r=u[0],o=u[1],a=u[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(a)var c=a(n)}for(t&&t(u);l<r.length;l++)s=r[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},u=self["webpackChunkquestionnaire"]=self["webpackChunkquestionnaire"]||[];u.forEach(t.bind(null,0)),u.push=t.bind(null,u.push.bind(u))}();var u=n.O(void 0,[998],(function(){return n(7902)}));u=n.O(u)})();
//# sourceMappingURL=app.60aa8c99.js.map